import wikipediaapi
import re
from collections import Counter

def get_wikipedia_page_links(page_title):
    # Configuration for Wikipedia API access
    config = {
        "language": "en",
        "user_agent": "MyWikiCrawler/1.0 (your-email@example.com)"
    }

    # Initialize the Wikipedia API with configuration
    wiki_wiki = wikipediaapi.Wikipedia(**config)

    # Fetch the page for the given title
    page = wiki_wiki.page(page_title)

    # Check if the page exists
    if not page.exists():
        return "Page not found"

    # List to store titles of linked pages
    links_titles = []

    # Loop through the links on the page
    for link in page.links.values():
        # Append the title of each linked page to the list
        links_titles.append(link.title)

    return links_titles

def get_wikipedia_page_text(page_title):
    # Configure the user agent for Wikipedia API access
    config = {
        "language": "en",
        "user_agent": "MyWikiCrawler/1.0 (kirilldenisluka@gmail.com)"
    }

    # Initialize the Wikipedia API with configuration
    wiki_wiki = wikipediaapi.Wikipedia(**config)

    # Fetch the page for the given title
    page = wiki_wiki.page(page_title)

    # Check if the page exists
    if page.exists():
        # Return the text of the page
        return page.text
    else:
        return "Page not found"


# Example usage
page_title = "University of Florida"

page_text = get_wikipedia_page_text(page_title)
print(page_text)

linked_pages = get_wikipedia_page_links(page_title)
print(linked_pages)
